# Server
PORT=8080

# Neo4j
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASS=neo4jpass

# Graphviz
DOT_BIN=/usr/bin/dot

# God Service: degree threshold (small graphs -> keep low)
DETECT_GOD_DEGREE=4

# Tight Coupling: sync mutual dependency concentration
DETECT_TIGHT_COUPLING_MIN_BIDIR=1
DETECT_TIGHT_COUPLING_RATIO=0.7

# Sync Call Chain: minimum edges in longest sync path
DETECT_SYNC_CHAIN_MIN_EDGES=4

# Shared Database: minimum number of services pointing to same db node
DETECT_SHARED_DB_MIN_CLIENTS=2

# UI Orchestrator: minimum distinct outgoing targets from UI
DETECT_UI_ORCH_MIN_OUT=2
# Database Configuration (PostgreSQL)
# For docker-compose: use DB_HOST=postgres, DB_PASSWORD=postgres
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_postgres_password
DB_NAME=gosim

# AMG-APD: temp/output dirs (optional; defaults: /app/incoming, /app/out)
# For local dev on Windows: AMG_APD_INCOMING_DIR=%TEMP%\amg-incoming, AMG_APD_OUT_DIR=./out
# AMG_APD_INCOMING_DIR=
# AMG_APD_OUT_DIR=

# Application Configuration
APP_ENV=development
LOG_LEVEL=info
APP_VERSION=1.0.0

# Upstream Services
LLM_SVC_URL=http://localhost:8081
SIMULATION_ENGINE_URL=http://localhost:8082
OLLAMA_URL=http://localhost:11434

# RAG Configuration
RAG_SNIPPETS_DIR=internal/design_input_processing/rag/snippets

# Firebase Configuration
# Path to Firebase service account JSON file
# Download from Firebase Console: Project Settings > Service Accounts > Generate New Private Key
FIREBASE_CREDENTIALS_PATH=./firebase-service-account.json
# Optional: Firebase Project ID (usually included in credentials file)
FIREBASE_PROJECT_ID=your-project-id

# Redis Configuration
# Redis host address
REDIS_HOST=localhost
# Redis port (default: 6379)
REDIS_PORT=6379
# Redis password (leave empty if no password is set)
REDIS_PASSWORD=
# Redis database number (0-15, default: 0)
REDIS_DB=0

# API Key (for design-input endpoints)
API_KEY=super-secret-key-123

# Simulation Callback Configuration
# Callback URL that the simulation engine will call when runs complete.
# Note: Each run will automatically append /{run_id} to this URL for unique callbacks.
# Example: If set to "http://localhost:8000/api/v1/simulation-engine/runs/callback",
#          the actual callback URL for a run will be:
#          "http://localhost:8000/api/v1/simulation-engine/runs/callback/{run_id}"
SIMULATION_CALLBACK_URL=http://localhost:8000/api/v1/simulation-engine/runs/callback

# Optional: Shared secret for authenticating callbacks from the simulation engine.
# If not set, callbacks are allowed without authentication (development mode).
# The simulation engine should send this secret in header: X-Simulation-Callback-Secret
# Recommended for production to prevent unauthorized callbacks.
SIMULATION_CALLBACK_SECRET=
